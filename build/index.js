$(function(){var t=new DragArea({selector:".drag-area"});$(".drag-area").click(function(e){var n=($(this),$(".buttons-box :radio:checked"));if(n.length&&"entity"==n.val()){var a=t.newEntity();document.querySelector("#modal-entity").showModal(),$("input[type=hidden][name=id_entity]").val(a.getId()),$(".form-entity input#entity-name").val(""),$(".buttons-box :radio[value=move]").click()}}),$(".buttons-box :radio").change(function(){var t=$(this).val();"move"==t?$(".drag-area").css("cursor",""):"entity"==t&&$(".drag-area").css("cursor","crosshair")}),$("form.form-entity").submit(function(e){e.preventDefault();var n=$(this),a=n.find("input[name=id_entity]").val(),i=t.getChild(a),o=n.find("input#entity-name").val();i.setName(o),document.querySelector("#modal-entity").close()}),$(".build_sql").click(function(e){e.preventDefault();var n="",a=t.getChildren();for(var i in a){var o=a[i];n+=o.getSQL()}var r=$("#modal-sql");r.find("code").html(n),r[0].showModal()}),$("dialog .close").click(function(){$(this).parents("dialog")[0].close()}),$(".buttons-box").buttonset()});