function DragArea(t){var e=this;this.selector=t.selector||".drag-area",this.element=$(this.selector),this.children={},this.m_pos={x:0,y:0},this.element.mousemove(function(t){e.m_pos.x=t.pageX,e.m_pos.y=t.pageY})}DragArea.prototype.addChild=function(t){this.children[t.getId()]=t,this.element.append(t.getElement())},DragArea.prototype.newEntity=function(t){var e=this,i=new EntityMDL({containment:this.selector});return this.addChild(i),i.setPosition(this.calcMousePosition()),i.getElement().find("button.bclose").click(function(t){t.preventDefault();var i=$(this).parents(".entity").attr("id");e.rmChild(i)}),i},DragArea.prototype.calcMousePosition=function(){var t=this.element.position();return{left:this.m_pos.x-t.left,top:this.m_pos.y-t.top}},DragArea.prototype.getChild=function(t){return this.children[t]},DragArea.prototype.getChildren=function(){return this.children},DragArea.prototype.rmChild=function(t){var e=this.getChild(t);e.element.remove(),delete this.children[t]};